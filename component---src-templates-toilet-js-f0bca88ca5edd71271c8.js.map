{"version":3,"sources":["webpack:///./src/components/shareButton.js","webpack:///./src/components/map.js","webpack:///./src/components/paranoma.js","webpack:///./src/utils/firebase.js","webpack:///./src/components/reviews.js","webpack:///./src/templates/toilet.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/helpButton.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/utils/utils.js","webpack:///./src/components/locationHelp.js"],"names":["ShareButton","props","_this","_React$Component","call","this","copyText","event","preventDefault","refs","input","select","document","execCommand","state","url","name","replace","render","content","react_default","a","createElement","style","textAlign","color","border","onSubmit","ref","type","value","readOnly","src","width","height","overflow","scrolling","frameBorder","allowtransparency","allow","title","esm","trigger","placement","interactive","arrow","verticalAlign","alt","React","Component","isLocationAvailable","Map","componentWillUnmount","clearInterval","timerID","getGeoLocation","navigator","geolocation","getCurrentPosition","position","locationMarker","setPosition","lat","coords","latitude","lng","longitude","accuracyRadius","setCenter","getPosition","setRadius","accuracy","enableHighAccuracy","forceUpdate","componentDidMount","_this2","setInterval","map","window","google","maps","getElementById","center","lon","zoom","gestureHandling","Marker","icon","Circle","radius","fillColor","fillOpacity","strokeWeight","self","centerControlDiv","controlDiv","controlUI","backgroundColor","borderRadius","boxShadow","cursor","marginBottom","appendChild","controlText","innerHTML","addEventListener","index","controls","ControlPosition","LEFT_BOTTOM","push","locationHelp","id","Paranoma","hotSpots","maleYaw","pitch","yaw","text","femaleYaw","handicappedYaw","waterCoolerYaw","pannellum","viewer","panorama","paranomaUrl","startingYaw","vaov","maxPitch","minPitch","autoLoad","Helmet","rel","href","firebase","require","instance","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","initializeApp","db","firestore","auth","ReviewText","onClick","review","length","len","setState","slice","isTooLong","textDecoration","display","margin","padding","fontSize","Reviews","_React$Component2","reviews","isSignedIn","myReview","handleChange","bind","assertThisInitialized_default","handleSubmit","_this3","ui","firebaseui","AuthUI","collection","doc","onSnapshot","data","uiConfig","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","start","onAuthStateChanged","user","target","set","FieldValue","arrayUnion","currentUser","displayName","date","Date","merge","_this4","signOut","location","reload","resize","onChange","disabled","trim","tableLayout","key","x","i","toDate","toLocaleString","day","month","year","hour","minute","reviews_ReviewText","reverse","__webpack_exports__","_ref","toilets","paranoma","glanceStyle","pred","layout","main","shareButton","listStyle","utils","className","query","m","module","exports","default","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_tippy_js_react__WEBPACK_IMPORTED_MODULE_1__","HelpButton","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","d","createContext","PropTypes","object","string","isRequired","func","gatsby__WEBPACK_IMPORTED_MODULE_1__","maxWidth","to","children","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","propTypes","shape","latLonToMetres","lat1","lon1","lat2","lon2","dLat","Math","PI","dLon","sin","cos","atan2","sqrt","round","appendMetres","distance","Number","isInteger","hasMaleToilet","toilet","hasFemaleToilet","hasHandicappedToilet","facilities","handicapped","hasSeperateHandicappedToilet","toiletHasHose","hose","toiletHasShowerHeads","showerHeads","toiletHasWaterCooler","_helpButton__WEBPACK_IMPORTED_MODULE_1__","textShadow"],"mappings":"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","file":"component---src-templates-toilet-js-f0bca88ca5edd71271c8.js","sourcesContent":["import React from \"react\"\nimport Tippy from \"@tippy.js/react\"\n\nclass ShareButton extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      url: `https://nelsontky.github.io/let-it-go/${this.props.name.replace(\n        /\\s/g,\n        \"\"\n      )}`,\n    }\n  }\n\n  copyText = event => {\n    event.preventDefault()\n\n    this.refs.input.select()\n\n    document.execCommand(\"copy\")\n\n    return false\n  }\n\n  render() {\n    const content = (\n      <div style={{ textAlign: \"left\" }}>\n        <h4 style={{ color: \"white\" }}>Share</h4>\n        <hr style={{ border: \"1px solid white\" }} />\n        Love/Hate <strong>{this.props.name}</strong>? Share your Let It Go\n        experience on social media! <br />\n        (psst... try not to look suspicious in the toilet with your phone ok?)\n        <div style={{ textAlign: \"center\" }}>\n          <form onSubmit={this.copyText}>\n            <input ref=\"input\" type=\"text\" value={this.state.url} readOnly />\n            <input type=\"submit\" value=\"Copy\" />\n          </form>\n          <iframe\n            src={`https://www.facebook.com/plugins/share_button.php?href=${\n              this.state.url\n            }&layout=button&size=small&width=58&height=20&appId`}\n            width=\"60\"\n            height=\"20\"\n            style={{ border: \"none\", overflow: \"hidden\" }}\n            scrolling=\"no\"\n            frameBorder=\"0\"\n            allowtransparency=\"true\"\n            allow=\"encrypted-media\"\n            title=\"fb\"\n          />\n          <iframe\n            height=\"20\"\n            width=\"62\"\n            style={{ border: \"none\", overflow: \"hidden\" }}\n            scrolling=\"no\"\n            frameBorder=\"0\"\n            allowtransparency=\"true\"\n            allow=\"encrypted-media\"\n            src={`https://platform.twitter.com/widgets/tweet_button.html?url=${\n              this.state.url\n            }`}\n            title=\"tweet\"\n          />\n        </div>\n      </div>\n    )\n    return (\n      <Tippy\n        content={content}\n        trigger=\"click\"\n        placement=\"bottom\"\n        interactive={true}\n        arrow={true}\n      >\n        <img\n          style={{ verticalAlign: \"bottom\" }}\n          src=\"https://material.io/tools/icons/static/icons/twotone-share-24px.svg\"\n          alt=\"\"\n        />\n      </Tippy>\n    )\n  }\n}\n\nexport default ShareButton\n","import React from \"react\"\nimport LocationHelp from \"./locationHelp\"\n\nlet isLocationAvailable = true\n\nclass Map extends React.Component {\n  componentWillUnmount() {\n    clearInterval(this.timerID)\n  }\n\n  getGeoLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        position => {\n          this.locationMarker.setPosition({\n            lat: position.coords.latitude,\n            lng: position.coords.longitude,\n          })\n          isLocationAvailable = true\n\n          this.accuracyRadius.setCenter(this.locationMarker.getPosition())\n          this.accuracyRadius.setRadius(position.coords.accuracy)\n        },\n        () => {\n          isLocationAvailable = false\n        },\n        { enableHighAccuracy: true }\n      )\n    } else {\n      // Browser doesn't support Geolocation\n      isLocationAvailable = false\n    }\n    this.forceUpdate()\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.getGeoLocation(), 1000)\n\n    this.map = new window.google.maps.Map(document.getElementById(\"map\"), {\n      center: { lat: this.props.lat, lng: this.props.lon },\n      zoom: 17,\n      gestureHandling: \"cooperative\",\n    })\n\n    new window.google.maps.Marker({\n      position: { lat: this.props.lat, lng: this.props.lon },\n      map: this.map,\n    })\n\n    this.locationMarker = new window.google.maps.Marker({\n      map: this.map,\n      icon: `https://i.imgur.com/Rw0L7jC.png`,\n      position: { lat: this.props.lat, lng: this.props.lon },\n    })\n\n    this.accuracyRadius = new window.google.maps.Circle({\n      map: this.map,\n      center: { lat: this.props.lat, lng: this.props.lon },\n      radius: 0,\n      fillColor: \"#00F\",\n      fillOpacity: 0.2,\n      strokeWeight: 0,\n    })\n\n    // Location button\n    const self = this\n    function CenterControl(controlDiv, map) {\n      // Set CSS for the control border.\n      let controlUI = document.createElement(\"div\")\n      controlUI.style.backgroundColor = \"#fff\"\n      controlUI.style.border = \"2px solid #fff\"\n      controlUI.style.borderRadius = \"3px\"\n      controlUI.style.boxShadow = \"0 2px 6px rgba(0,0,0,.3)\"\n      controlUI.style.cursor = \"pointer\"\n      controlUI.style.textAlign = \"center\"\n      controlUI.style.marginBottom = \"22px\"\n      controlUI.style.height = \"31px\"\n      controlUI.title = \"Click to recenter the map to location\"\n      controlDiv.appendChild(controlUI)\n\n      // Set CSS for the control interior.\n      let controlText = document.createElement(\"div\")\n      controlText.innerHTML = \"<img src='https://i.imgur.com/raFRca2.png' />\"\n      controlUI.appendChild(controlText)\n\n      // Setup the click event listeners\n      controlUI.addEventListener(\"click\", function() {\n        self.getGeoLocation()\n        map.setCenter(self.locationMarker.getPosition())\n      })\n    }\n\n    // Render the button\n    let centerControlDiv = document.createElement(\"div\")\n    new CenterControl(centerControlDiv, this.map)\n\n    centerControlDiv.index = 1\n    this.map.controls[window.google.maps.ControlPosition.LEFT_BOTTOM].push(\n      centerControlDiv\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        {!isLocationAvailable && <LocationHelp />}\n        <div id=\"map\" style={{ width: \"100%\", height: 300 }} />\n      </div>\n    )\n  }\n}\n\nexport default Map\n","import React from \"react\"\nimport { Helmet } from \"react-helmet\"\n\nclass Paranoma extends React.Component {\n  componentDidMount() {\n    // Determine hotspots\n    const hotSpots = []\n\n    if (this.props.maleYaw !== null) {\n      hotSpots.push({\n        pitch: 0,\n        yaw: this.props.maleYaw,\n        type: \"info\",\n        text: \"Male\"\n      })\n    }\n\n    if (this.props.femaleYaw !== null) {\n      hotSpots.push({\n        pitch: 0,\n        yaw: this.props.femaleYaw,\n        type: \"info\",\n        text: \"Female\"\n      })\n    }\n\n    if (this.props.handicappedYaw !== null) {\n      hotSpots.push({\n        pitch: 0,\n        yaw: this.props.handicappedYaw,\n        type: \"info\",\n        text: \"Handicapped\"\n      })\n    }\n\n    if (this.props.waterCoolerYaw !== null) {\n      hotSpots.push({\n        pitch: 0,\n        yaw: this.props.waterCoolerYaw,\n        type: \"info\",\n        text: \"Water Cooler\",\n      })\n    }\n\n    window.pannellum.viewer(\"panorama\", {\n      type: \"equirectangular\",\n      panorama: this.props.paranomaUrl,\n      yaw: this.props.startingYaw,\n      vaov: 45,\n      maxPitch: 0,\n      minPitch: 0,\n      autoLoad: true,\n      hotSpots,\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Helmet>\n          <link\n            rel=\"stylesheet\"\n            href=\"https://cdn.pannellum.org/2.4/pannellum.css\"\n          />\n        </Helmet>\n        <div id=\"panorama\" style={{ width: \"100%\", height: 200 }} />\n      </div>\n    )\n  }\n}\n\nexport default Paranoma\n","var firebase = require(\"firebase/app\")\nrequire(\"firebase/auth\")\nrequire(\"firebase/firestore\")\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAm31tTHPuaSkBR1Ff7pYAavUX6K1DlZ5g\",\n  authDomain: \"let-it-go-ce90f.firebaseapp.com\",\n  databaseURL: \"https://let-it-go-ce90f.firebaseio.com\",\n  projectId: \"let-it-go-ce90f\",\n  storageBucket: \"let-it-go-ce90f.appspot.com\",\n  messagingSenderId: \"243397254091\",\n  appId: \"1:243397254091:web:bede1631a9ce7f43\",\n}\n\nlet instance\n\nclass Firebase {\n  constructor() {\n    if (instance) {\n      return instance\n    }\n    firebase.initializeApp(firebaseConfig)\n    this.db = firebase.firestore()\n    this.auth = firebase.auth()\n    this.firebase = firebase\n    instance = this\n  }\n}\n\nexport default Firebase\n","import React from \"react\"\nimport Firebase from \"../utils/firebase\"\nimport { Helmet } from \"react-helmet\"\n\nclass ReviewText extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.len = 100\n\n    this.state = {\n      review: this.props.review.slice(0, this.len),\n      isTooLong: this.props.review.length > this.len,\n    }\n  }\n\n  onClick = () => {\n    if (this.state.review.length > this.len) {\n      this.setState({\n        review: this.props.review.slice(0, this.len),\n      })\n    } else {\n      this.setState({\n        review: this.props.review,\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.review.length > this.len && this.state.review.length <= this.len\n          ? this.state.review + \"...\"\n          : this.state.review}\n        {this.state.isTooLong && (\n          <div>\n            <button\n              style={{\n                backgroundColor: \"transparent\",\n                border: \"none\",\n                cursor: \"pointer\",\n                textDecoration: \"underline\",\n                display: \"inline\",\n                margin: \"0\",\n                padding: \"0\",\n                color: \"#1ca086\",\n                fontSize: \"60%\",\n              }}\n              onClick={this.onClick}\n            >\n              {this.state.review.length > this.len ? \"Show less\" : \"Show more\"}\n            </button>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nclass Reviews extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      reviews: [],\n      isSignedIn: false,\n      myReview: \"\",\n    }\n\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  componentDidMount() {\n    this.firebase = new Firebase()\n\n    this.db = this.firebase.db\n    this.auth = this.firebase.auth\n    if (this.firebase.ui == null) {\n      const firebaseui = require(\"firebaseui\")\n      this.firebase.ui = new firebaseui.auth.AuthUI(this.auth)\n    }\n\n    this.db\n      .collection(\"toilets\")\n      .doc(this.props.name)\n      .onSnapshot(doc => {\n        this.setState({\n          reviews: doc.data().reviews,\n        })\n      })\n\n    this.uiConfig = {\n      signInOptions: [\n        this.firebase.firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      ],\n      callbacks: {\n        // Avoid redirects after sign-in.\n        signInSuccessWithAuthResult: () => false,\n      },\n    }\n    this.firebase.ui.start(\"#firebaseui-auth-container\", this.uiConfig)\n\n    this.auth.onAuthStateChanged(user => {\n      this.setState({ isSignedIn: !!user })\n    })\n  }\n\n  handleChange(event) {\n    this.setState({ myReview: event.target.value })\n  }\n\n  handleSubmit(event) {\n    event.preventDefault()\n    this.db\n      .collection(\"toilets\")\n      .doc(this.props.name)\n      .set(\n        {\n          reviews: this.firebase.firebase.firestore.FieldValue.arrayUnion({\n            name: this.auth.currentUser.displayName,\n            review: this.state.myReview,\n            date: new Date(),\n          }),\n        },\n        { merge: true }\n      )\n\n    this.setState({\n      myReview: \"\",\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Helmet>\n          <link\n            type=\"text/css\"\n            rel=\"stylesheet\"\n            href=\"https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css\"\n          />\n        </Helmet>\n        <h4>Reviews</h4>\n        {!this.state.isSignedIn && (\n          <div>\n            <div id=\"firebaseui-auth-container\" />\n            <p\n              style={{ fontSize: \"0.7em\", color: \"gray\", textAlign: \"center\" }}\n            >\n              Sign in with Google to post a review!\n            </p>\n          </div>\n        )}\n        {this.state.isSignedIn && (\n          <div>\n            <p>\n              Welcome {this.auth.currentUser.displayName}! You are now\n              signed-in!{\" \"}\n              <button\n                onClick={() => {\n                  this.auth.signOut()\n                  window.location.reload()\n                }}\n              >\n                Sign-out\n              </button>\n            </p>\n            <form onSubmit={this.handleSubmit}>\n              <label>\n                Review:\n                <textarea\n                  style={{ width: \"100%\", resize: \"none\", height: \"75px\" }}\n                  value={this.state.myReview}\n                  onChange={this.handleChange}\n                />\n              </label>\n              <input\n                type=\"submit\"\n                value=\"Submit\"\n                disabled={this.state.myReview.trim() === \"\"}\n              />\n            </form>\n          </div>\n        )}\n        <table style={{ tableLayout: \"fixed\" }}>\n          <tbody>\n            {this.state.reviews.length === 0 ? (\n              <tr key={1}>\n                <td>\n                  <p>No reviews (yet!)</p>\n                </td>\n              </tr>\n            ) : (\n              this.state.reviews\n                .map((x, i) => {\n                  return (\n                    <tr key={i}>\n                      <td>\n                        <strong style={{ color: \"blue\", fontSize: \"80%\" }}>\n                          {x.name}\n                        </strong>\n                        <span style={{ color: \"gray\", fontSize: \"80%\" }}>\n                          {\" â€¢ \" +\n                            x.date.toDate().toLocaleString(\"default\", {\n                              day: \"numeric\",\n                              month: \"long\",\n                              year: \"numeric\",\n                              hour: \"numeric\",\n                              minute: \"numeric\",\n                            })}\n                        </span>\n                        <br />\n                        <ReviewText review={x.review} />\n                      </td>\n                    </tr>\n                  )\n                })\n                .reverse()\n            )}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default Reviews\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport ShareButton from \"../components/shareButton\"\nimport * as utils from \"../utils/utils\"\nimport Map from \"../components/map\"\nimport Paranoma from \"../components/paranoma\"\nimport { Helmet } from \"react-helmet\"\nimport Reviews from \"../components/reviews\"\n\nexport default ({ data }) => {\n  const name = data.toilets.name\n  const lat = data.toilets.lat\n  const lon = data.toilets.lon\n  const paranomaUrl = data.toilets.paranoma.url\n  const startingYaw = data.toilets.paranoma.startingYaw\n  const maleYaw = data.toilets.paranoma.maleYaw\n  const femaleYaw = data.toilets.paranoma.femaleYaw\n  const handicappedYaw = data.toilets.paranoma.handicappedYaw\n  const waterCoolerYaw = data.toilets.paranoma.waterCoolerYaw\n\n  function glanceStyle(pred) {\n    return {\n      textDecoration: pred(data.toilets) ? \"\" : \"line-through\",\n      color: pred(data.toilets) ? \"\" : \"gray\",\n    }\n  }\n\n  function handicappedText() {\n    if (!utils.hasHandicappedToilet(data.toilets)) {\n      return \"Is handicapped accessible\"\n    } else if (!utils.hasSeperateHandicappedToilet(data.toilets))\n      return \"Is handicapped accessible (Handicapped cubicle inside toilet)\"\n    else {\n      return \"Is handicapped accessible (Has seperate handicapped toilet)\"\n    }\n  }\n\n  return (\n    <Layout main={false}>\n      <Helmet>\n        <title>{name}</title>\n      </Helmet>\n      <h3>{name}</h3>\n      <ShareButton name={name} />\n      <Map lat={lat} lon={lon} />\n      <Paranoma\n        name={name}\n        paranomaUrl={paranomaUrl}\n        startingYaw={startingYaw}\n        maleYaw={maleYaw}\n        femaleYaw={femaleYaw}\n        handicappedYaw={handicappedYaw}\n        waterCoolerYaw={waterCoolerYaw}\n      />\n      <h4>At a glance</h4>\n      <ul style={{ listStyle: \"none\" }}>\n        <li style={glanceStyle(utils.hasMaleToilet)}>\n          <i className=\"em-svg em-man-raising-hand\" />\n          Has Male toilet\n        </li>\n        <li style={glanceStyle(utils.hasFemaleToilet)}>\n          <i className=\"em-svg em-woman-raising-hand\" />\n          Has Female toilet\n        </li>\n        <li style={glanceStyle(utils.hasHandicappedToilet)}>\n          <i className=\"em-svg em-wheelchair\" />\n          {handicappedText()}\n        </li>\n        <li style={glanceStyle(utils.toiletHasWaterCooler)}>\n          <i className=\"em-svg em-potable_water\" />\n          Has water cooler\n        </li>\n        <li style={glanceStyle(utils.toiletHasShowerHeads)}>\n          <i className=\"em-svg em-shower\" />\n          Has shower heads\n        </li>\n        <li style={glanceStyle(utils.toiletHasHose)}>\n          <i className=\"em-svg em-sweat_drops\" />\n          Has hose\n        </li>\n      </ul>\n      <Reviews name={name} />\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    toilets(fields: { slug: { eq: $slug } }) {\n      name\n      lat\n      lon\n      paranoma {\n        femaleYaw\n        handicappedYaw\n        maleYaw\n        startingYaw\n        waterCoolerYaw\n        url\n      }\n      facilities {\n        hose\n        showerHeads\n        handicapped\n      }\n    }\n  }\n`\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport Tippy from \"@tippy.js/react\"\n\nconst HelpButton = props => (\n  <Tippy\n    content={props.content}\n    arrow={true}\n    trigger=\"click\"\n    placement=\"bottom\"\n    interactive={true}\n  >\n    <img\n      style={{ verticalAlign: \"middle\" }}\n      src=\"https://material.io/tools/icons/static/icons/baseline-help_outline-24px.svg\"\n      alt=\"\"\n    />\n  </Tippy>\n)\n\nexport default HelpButton\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nexport default (props) => (\n  <div style={{ margin: `3rem auto`, maxWidth: 650, padding: `0 1rem` }}>\n    {!props.main && <Link to=\"/\">Back</Link>}\n    {props.main && <h1>Let It Go</h1>}\n    {props.children}\n  </div>\n)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","function latLonToMetres(lat1, lon1, lat2, lon2) {\n  if (lat1 === null || lat2 === null || lon1 === null || lon2 === null) {\n    return \"Location not available\"\n  }\n  const R = 6371000 // Radius of the earth in m\n  const dLat = (lat2 - lat1) * (Math.PI / 180)\n  const dLon = (lon2 - lon1) * (Math.PI / 180)\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(lat1 * (Math.PI / 180)) *\n      Math.cos(lat2 * (Math.PI / 180)) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2)\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n  const d = R * c // Distance in m\n  return Math.round(d)\n}\n\nfunction appendMetres(distance) {\n  return Number.isInteger(distance) ? distance + \"m\" : distance\n}\n\nfunction hasMaleToilet(toilet) {\n  return toilet.paranoma.maleYaw != null\n}\n\nfunction hasFemaleToilet(toilet) {\n  return toilet.paranoma.femaleYaw != null\n}\n\nfunction hasHandicappedToilet(toilet) {\n  return toilet.facilities.handicapped;\n}\n\nfunction hasSeperateHandicappedToilet(toilet) {\n  return toilet.paranoma.handicappedYaw != null\n}\n\nfunction toiletHasHose(toilet) {\n  return toilet.facilities.hose\n}\n\nfunction toiletHasShowerHeads(toilet) {\n  return toilet.facilities.showerHeads\n}\n\nfunction toiletHasWaterCooler(toilet) {\n  return toilet.paranoma.waterCoolerYaw != null\n}\n\nexport {\n  latLonToMetres,\n  hasMaleToilet,\n  hasFemaleToilet,\n  hasHandicappedToilet,\n  hasSeperateHandicappedToilet,\n  toiletHasHose,\n  toiletHasShowerHeads,\n  toiletHasWaterCooler,\n  appendMetres\n}\n","import React from \"react\"\nimport HelpButton from \"./helpButton\"\n\nconst content = (\n  <div style={{ textAlign: \"left\" }}>\n    Check that you have:\n    <ul>\n      <li>\n        Enabled your device's GPS settings\n        <ul>\n          <li>\n            <a\n              style={{\n                textShadow: \"none\",\n              }}\n              href=\"https://support.google.com/accounts/answer/3467281\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              Android\n            </a>\n          </li>\n          <li>\n            <a\n              style={{ textShadow: \"none\" }}\n              href=\"https://support.apple.com/en-us/HT207092\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              iOS\n            </a>\n          </li>\n          <li>Reload this page after enabling GPS settings</li>\n        </ul>\n      </li>\n      <li>\n        Allowed your browser and this website the neccessary permissions to read\n        your location\n        <ul>\n          <li>Press allow when a similar prompt as below appears</li>\n          <li>If such a prompt does not appear, reload the page</li>\n        </ul>\n      </li>\n    </ul>\n    <img\n      src=\"https://raw.githubusercontent.com/nelsontky/let-it-go/master/assets/misc/locationHelp.png\"\n      alt=\"\"\n    />\n  </div>\n)\n\nexport default () => (\n  <p>\n    Location not detected <HelpButton content={content} />\n  </p>\n)\n"],"sourceRoot":""}